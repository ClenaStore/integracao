<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Painel de Integrações</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#0b1220; --card:#101827; --teal:#06b6d4; --ink:#e5f0ff;
}
body {
  background:var(--bg); color:var(--ink); font-family:'Inter',sans-serif;
  display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; margin:0;
}
h1 { color:var(--teal); font-size:1.6rem; margin-bottom:20px; }
.cards { display:flex; gap:20px; flex-wrap:wrap; justify-content:center; }
.card {
  background:var(--card); border:1px solid rgba(255,255,255,.05); border-radius:12px;
  padding:30px; width:260px; text-align:center; cursor:pointer; transition:.2s;
}
.card:hover { transform:translateY(-4px); box-shadow:0 4px 14px rgba(0,0,0,.4); }
.card h2 { font-size:1.1rem; margin:0 0 8px; color:var(--teal); }
.card p { font-size:1.4rem; font-weight:800; margin:0; }

#popup {
  position:fixed; top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,.7); display:none; align-items:center; justify-content:center;
}
.popup-content {
  background:var(--card); padding:20px; border-radius:10px; width:90%; max-width:700px;
  color:var(--ink); max-height:80vh; overflow:auto;
}
.close { float:right; cursor:pointer; font-weight:bold; color:var(--teal); font-size:18px; }
</style>
</head>
<body>
<h1>Painel de Integrações</h1>

<div class="cards">
  <div class="card" onclick="abrirPopup()">
    <h2>Varejo Fácil Mercatto</h2>
    <p>Ver dados do dia anterior</p>
  </div>
</div>

<div id="popup">
  <div class="popup-content">
    <span class="close" onclick="fecharPopup()">×</span>
    <h2>Dados Varejo Fácil - Dia Anterior</h2>
    <pre id="dadosJson">Carregando...</pre>
  </div>
</div>

<script>
async function abrirPopup() {
  document.getElementById('popup').style.display = 'flex';
  const resp = await fetch('/api/coletarVarejoFacil');
  const dados = await resp.json();
  document.getElementById('dadosJson').textContent = JSON.stringify(dados, null, 2);
}
function fecharPopup() {
  document.getElementById('popup').style.display = 'none';
}
</script>
</body>
</html>
